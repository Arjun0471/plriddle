<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PL Riddle</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <header>
    <button class="menu-toggle" id="menuToggle">☰</button>
    <nav class="top-nav">
      <div class="nav-left">
        <img src="https://www.premierleague.com/resources/ver/i/favicon/favicon.ico" alt="PL Logo" class="header-logo">
        <h1>PL Riddle</h1>
      </div>
      <div class="nav-right">
        <a href="index.html" class="nav-link">Home</a>
        <a href="stats.html" class="nav-link">Stats</a>
        <a href="how-to-play.html" class="nav-link">How to Play</a>
        <a href="credits.html" class="nav-link">Credits</a>
        <a href="login.html" class="nav-link" id="authLink">Login/Register</a>
        <button id="customPlayerBtn" class="nav-link">Custom Player</button>
        <button id="soundToggle" class="nav-link sound-toggle">
          <img src="assets/images/sound-on.svg" alt="Sound On" id="soundIcon" class="sound-icon">
        </button>
        <button id="timedModeToggle" class="nav-link">Timed Mode: Off</button>
      </div>
    </nav>
  </header>
  <div class="sidebar right-sidebar" id="dailyTipSidebar">
    <h3>Daily Tip</h3>
    <p id="dailyTip"></p>
  </div>
  <main>
    <div id="loadingSpinner" style="display: none; text-align: center; margin: 20px 0;">
      <div class="spinner"></div>
      <p>Loading player data...</p>
    </div>
    <div class="game-info">
      <p>Guess the Premier League player in 8 tries. New player daily.</p>
      <div class="guess-counter">Guesses: <span id="guessCount">0/8</span></div>
      <div id="timer" style="display: none;">Time Left: <span id="timeLeft">2:00</span></div>
    </div>
    <div class="silhouette-area">
      <img id="silhouette" src="" alt="Player Silhouette" style="display: none;">
      <button id="toggleSilhouette">Show Silhouette</button>
      <button id="newPlayerBtn">New Player</button>
      <button id="getHintBtn">Get Hint</button>
    </div>

    <div class="advanced-settings">
      <button id="toggleAdvancedBtn">Advanced Settings</button>
      <div id="advancedOptions" style="display: none;">
        <div class="advanced-section">
          <h3>Forwards & Midfielders</h3>
          <div class="advanced-option">
            <label for="atkMidToggle">Filter to only FWD/MID:</label>
            <label class="switch">
              <input type="checkbox" id="atkMidToggle">
              <span class="slider"></span>
            </label>
          </div>
          <div class="advanced-option">
            <label for="minGoalsAssists">Minimum Goals + Assists:</label>
            <input type="number" id="minGoalsAssists" min="0" value="0">
          </div>
          <div class="advanced-option">
            <label for="minMinutesMF">Minimum Minutes:</label>
            <input type="number" id="minMinutesMF" min="0" value="100">
          </div>
        </div>
        <div class="advanced-section">
          <h3>Goalkeepers & Defenders</h3>
          <div class="advanced-option">
            <label for="defGkpToggle">Filter to only DEF/GKP:</label>
            <label class="switch">
              <input type="checkbox" id="defGkpToggle">
              <span class="slider"></span>
            </label>
          </div>
          <div class="advanced-option">
            <label for="minMinutesGD">Minimum Minutes:</label>
            <input type="number" id="minMinutesGD" min="0" value="100">
          </div>
        </div>
        <button id="applyAdvancedBtn">Apply Settings</button>
      </div>
    </div>
    <div class="input-area">
      <input type="text" id="playerInput" placeholder="Type a player name..." autocomplete="off">
      <ul id="suggestions" class="suggestions"></ul>
      <button onclick="submitGuess()">Guess</button>
    </div>
    <table id="guessTable">
      <thead>
        <tr>
          <th>Player</th>
          <th>Team</th>
          <th>Position</th>
          <th>Age</th>
          <th>Minutes</th>
          <th>Goals</th>
          <th>Assists</th>
          <th>Time at Team</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </main>
  <div id="modal" class="modal">
    <div class="modal-content">
      <span id="modalClose" class="close">×</span>
      <p id="result"></p>
      <div class="modal-buttons">
        <button id="shareBtn" style="display: none;">Share</button>
        <button id="tweetBtn" style="display: none;">Tweet</button>
        <button id="closeGameBtn" style="display: none;">Close</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>